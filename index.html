<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <script src="//unpkg.com/alpinejs" defer></script>

</head>

<body>
    <div class="container" x-data="{  showCart: false,
                                      showPayment : false,
                                      showPaymentOpt: true,
                                      showCardPayments: false,
                                      showCashMessage : false,
                                      showCardMessage: false,
                                      showCard_Pay_Amount: false,
                                      PlaceOrderBtn: false,

                                      smallpizzaTotal : 0.0,
                                      smallpizzaQty : 0, 
                                      mediumpizzaTotal :  0.0,
                                      mediumpizzaQty:  0,
                                      largepizzaTotal : 0.0,
                                      largepizzaQty : 0,
                                      Amount : 0,
                                      
                                      Buyingsmallpizza() {
                                                        this.smallpizzaTotal += 29.99; 
                                                        this.smallpizzaQty += 1 
                                                        },
                                     Clearingsmallpizza() {
                                                 if (this.smallpizzaQty > 0) {
                                                    this.smallpizzaTotal -= 29.99; 
                                                    this.smallpizzaQty -= 1 
                                                 }},
                                                        
                                      Buyingmediumpizza() {
                                                        this.mediumpizzaTotal += 55.99; 
                                                        this.mediumpizzaQty += 1 
                                                        },
                                      Clearingmediumpizza() {
                                                 if (this.mediumpizzaQty > 0) {
                                                    this.mediumpizzaTotal -= 55.99; 
                                                    this.mediumpizzaQty -= 1 
                                                 }},
                                                        
                                                        
                                      Buyinglargepizza() {
                                                        this.largepizzaTotal += 78.99; 
                                                        this.largepizzaQty += 1 
                                                        },
                                       Clearinglargepizza() {
                                                 if (this.largepizzaQty > 0) {
                                                    this.largepizzaTotal -= 78.99; 
                                                    this.largepizzaQty -= 1 
                                                 }}, 

                                      Payment_amount() {
                                                        return this.smallpizzaTotal + this.mediumpizzaTotal + this.largepizzaTotal
                                                     },
                                      
                                      TotalItems()   {
                                                        return this.smallpizzaQty + this.mediumpizzaQty + this.largepizzaQty
                                                     },

                                        makepayment() {
                                            if (!this.Amount){
                                                return 'Enter the amount';
                                            }

                                            if ( this.Amount >= this.Payment_amount()){
                                                return 'Enjoy, your pizzas';
                                            
                                            }
                                            else {
                                                return 'Sorry - that is not enough money!';
                                            }},

                                        ClearingCart(){
                                            setTimeout(() => {
                                                this.showCart = false;
                                                this.showPayment = false;
                                                this.showCardPayments = false;
                                                this.showCashMessage = false;
                                                this.showCardMessage = false;
                                                this.showCard_Pay_Amount = false;
                                                this.showPaymentOpt = true;
                                                this.PlaceOrderBtn = false;
                                                this.Rest();
                                            }, 3000);
                                        },
                                        
                                        Rest() {
                                            this.smallpizzaTotal = 0.0;
                                            this.smallpizzaQty = 0;  
                                            this.mediumpizzaTotal = 0.0;
                                            this.mediumpizzaQty = 0;
                                            this.largepizzaTotal = 0.0;
                                            this.largepizzaQty = 0;
                                            this.Amount = 0;
                                        },        
                                    
                                    
                                    
                                    }">
        <!--------------------Pizza Cart--------------------------------->

        <div class="PizzaHD1">
            <div class="Himg">
                <h1>Perfect Pizza</h1>

                <img class="PizzaH1" src="pizza1.png" alt="">
                <img class="PizzaH2" src="pizza2.png" alt="">
                <img class="PizzaH3" src="pizza3.png" alt="">
                <img class="PizzaH4" src="pizza4.png" alt="">
            </div>

            <div class="CartOpeningBtn">
                <button class="OpenBtn" x-on:click="showCart=true">

                    <img class="OpenImgBtn" src="cart1.png" width="100">
                    Show Cart
                </button>

                <!--TOTAL PAYMENT AMOUNT-->
                <strong>
                    R<span x-text="Payment_amount().toFixed(2)"></span>
                </strong>

                <!--TOTAL ITEMS-->
                <div class="TotalItmHolder">
                    Items:<span class="ItmQty" x-text="TotalItems()"></span>
                </div>
            </div>
        </div>

        <div class="cart-box">
            <div class="cart" x-show="showCart">
                <div>
                    <button class="CloseBtn" x-on:click="showCart=false">
                        <img class="OpenImgBtn" src="cart1.png" width="100">
                        Close Cart
                    </button>
                </div>

                <div class="">
                    <h2>Cart
                        <img class="cart1" src="cart1.png">
                    </h2>
                </div>

                <table>
                    <!--FIRST ROW-->
                    <tr x-show="smallpizzaQty > 0">
                        <td class="PizzaSize">Small Pizza</td>
                        <td>
                            <button class="QtyBtn" x-on:click="Buyingsmallpizza()">+</button>
                            <button x-show="smallpizzaQty > 0" class="QtyBtn"
                                x-on:click="Clearingsmallpizza()">-</button>
                            <span class="PizzaQty" x-text="smallpizzaQty"></span>
                        </td>
                        <td>
                            R<span x-text="smallpizzaTotal.toFixed(2)"></span>
                        </td>
                    </tr>
                    <!--SECOND ROW-->
                    <tr x-show="mediumpizzaQty > 0">
                        <td class="PizzaSize">Medium Pizza</td>
                        <td>
                            <button class="QtyBtn" x-on:click="Buyingmediumpizza()">+</button>
                            <button x-show="mediumpizzaQty > 0" class="QtyBtn"
                                x-on:click="Clearingmediumpizza()">-</button>
                            <span class="PizzaQty" x-text="mediumpizzaQty"></span>
                        </td>
                        <td>
                            R<span x-text="mediumpizzaTotal.toFixed(2)"></span>
                        </td>
                    </tr>
                    <!--THIRD ROW-->
                    <tr x-show="largepizzaQty > 0">
                        <td class="PizzaSize">Large Pizza</td>
                        <td>
                            <button class="QtyBtn" x-on:click="Buyinglargepizza()">+</button>
                            <button x-show="largepizzaQty > 0" class="QtyBtn"
                                x-on:click="Clearinglargepizza()">-</button>
                            <span class="PizzaQty" x-text="largepizzaQty"></span>
                        </td>
                        <td>
                            R<span x-text="largepizzaTotal.toFixed(2)"></span>
                        </td>
                    </tr>
                    <!-- <tr>
                        <td colspan="2">Total</td>
                        <td x-text="cartTotal"></td>
                    </tr> -->

                    <!--FOURTH ROW-->
                    <tr>
                        <td colspan="3">
                            <!--
                                <div class="message" >Message...</div>
                            -->
                            <div class="paymentSec">
                                <div class="PaymentAmout">
                                    <label for="">Payment amount</label>
                                    <span class="input">
                                        R<span class="textTotalAmount" x-text=" Payment_amount().toFixed(2)"></span>
                                    </span>
                                </div>
                                <div>
                                    <button class="PaymentBtn" x-on:click="showPayment=true , showCart=false">
                                        <img class="CartBuyBtn" src="cart1.png">Pay
                                    </button>
                                </div>
                            </div>

                        </td>
                    </tr>
                </table>
            </div>

            <!--------------------------------Payments--------------------------------------->
            <div class="Payments" x-show="showPayment">

                <!--PAYMENTS OPTION-->
                <div class="paymentOpt" x-show="showPaymentOpt">
                    <h1 class="">Payment</h1>
                    <!--CashPaymenyButton-->
                    <button class="PayOptBtn" x-on:click="showPaymentOpt=false ,PlaceOrderBtn=true">
                        Cash
                    </button>



                    <!---CardPaymentButto-->
                    <button class="PayOptBtn" x-on:click="showCardPayments=true, showPaymentOpt=false">
                        Debit/Credit
                    </button>
                </div>

                <div x-show="PlaceOrderBtn">
                    <div>
                        <strong>
                            R<span x-text="Payment_amount().toFixed(2)"></span>
                        </strong>
                    </div>
                    <label for="Amount">Amount</label>
                    <input type="text" x-model="Amount" id="Amount">
                    <button class="PayOptBtn" x-on:click="showCashMessage=true, makepayment, ClearingCart()">
                        PlaceOrder
                    </button>
                </div>

                <!--CARD PAYMENTS-->
                <div class="cardPayments" x-show="showCardPayments">
                    <!--Banking Details1-->
                    <h1 class="">Payment</h1>
                    <div class="BankDetails1">
                        <div class="Banks">
                            <img class="BanksImg" src="Banks logos.jpg">
                        </div>
                        <input type="text" placeholder="Bank Name">
                        <input type="text" placeholder="Account Holder">
                    </div>

                    <div class="accountNumberHolder">
                        <input class="inputAccNumber" type="text" placeholder="Account Number">
                    </div>

                    <!--Banking Details2-->
                    <div class="BankDetails1">
                        <input type="text" placeholder="ExpDate">
                        <input type="text" placeholder="CVV">
                    </div>

                    <!--PayButton-->
                    <div class="PayButton">
                        <button class="CardPayingBtn" x-on:click="showCardPayments= false,
                                                                  showCard_Pay_Amount= true">
                            ADD CARD
                        </button>
                    </div>
                </div>

                <div class="EnteringPayment" x-show="showCard_Pay_Amount">
                    <div>
                        <strong>
                            R<span x-text="Payment_amount().toFixed(2)"></span>
                        </strong>
                    </div>
                    <label for="Amount">Amount</label>
                    <input type="text" x-model="Amount" id="Amount">
                    <button class="CardPayingBtn" x-on:click="makepayment, ClearingCart(), showCardMessage = true">
                        Pay
                    </button>
                </div>

                <!--Message-->
                <!---Cash Payment Message-->

                <div class="message" x-show="showCashMessage">
                    <div x-text="makepayment()"></div>
                </div>

                <!--Card Payment Message-->

                <div class="message" x-show="showCardMessage">
                    <div x-text="makepayment()"></div>
                </div>

            </div>
        </div>

        <!--------------------------------------PizzaPamphlet---------------------------------------------------->

        <div class="PizzaLayout">
            <!--small Pizza-->
            <div class="Pizza1">
                <img class="small-img" src="Pizza.jpg">
                <h2>Small Pizza</h2>
                <h3>R29.99</h3>
                <button class="AddBtn" x-on:click="smallpizzaTotal += 29.99, smallpizzaQty += 1 ">
                    Add Cart
                </button>
                <p>
                    small margeritha pizza with 3 toppings max. 2 or less meat topping. 3 or less other toppings.
                </p>
            </div>
            <!--Mediu Pizza-->
            <div class="Pizza2">
                <img class="Mediu-img" src="Pizza.jpg">
                <h2>Medium Pizza</h2>
                <h3>R55.99</h3>
                <button class="AddBtn" x-on:click="mediumpizzaTotal += 55.99, mediumpizzaQty += 1 ">
                    Add Cart
                </button>
                <p>
                    medium margeritha pizza with 3 toppings max. 2 or less meat topping. 3 or less other toppings.
                </p>
            </div>
            <!--Large Pizza-->
            <div class="Pizza3">
                <img class="Large-img" src="Pizza.jpg">
                <h2>Large Pizza</h2>
                <h3>R78.99</h3>
                <button class="AddBtn" x-on:click="largepizzaTotal += 78.99, largepizzaQty += 1 ">
                    Add Cart
                </button>
                <p>
                    large margeritha pizza with 3 toppings max. 2 or less meat topping. 3 or less other toppings.
                </p>
            </div>
        </div>
        <div class="Pizza-Details">
            <div class="Pizza-Details1">
                Contact us at: (021)-541-1000 <br>
                Twitter<br>
                /fb<br>
                /insta<br>
                @perfectpizza<br>
            </div>
            <div class="Pizza-Details2">
                Pizza Plaza<br>
                Dough Road<br>
                Base Town<br>
            </div>

        </div>
    </div>
</body>

</html>